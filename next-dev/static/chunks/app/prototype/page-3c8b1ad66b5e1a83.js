(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[743],{867:(e,s,i)=>{"use strict";i.d(s,{YT:()=>a,f2:()=>l,hQ:()=>t,tv:()=>c,wS:()=>n});let r="http://127.0.0.1:8000",a=async()=>{let e=await fetch("".concat(r,"/indices"));if(!e.ok)throw Error("Impossible de charger les indices.");return e.json()},n=async e=>{let s=await fetch("".concat(r,"/screening"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok)throw Error((await s.json()).detail||"Une erreur est survenue lors du screening.");return s.json()},l=async e=>{let s=await fetch("".concat(r,"/dcf-valuation/").concat(e));if(!s.ok)throw Error((await s.json()).detail||"L'analyse DCF a \xe9chou\xe9 pour ".concat(e,"."));return s.json()},c=async()=>{let e=await fetch("".concat(r,"/screening/history"));if(!e.ok)throw Error("Impossible de charger l'historique des screenings.");return e.json()},t=async e=>{let s=await fetch("".concat(r,"/screening/history/").concat(e));if(!s.ok)throw Error("Impossible de charger les d\xe9tails du screening.");return s.json()}},1754:()=>{},2654:(e,s,i)=>{Promise.resolve().then(i.bind(i,7448))},7448:(e,s,i)=>{"use strict";i.d(s,{default:()=>l});var r=i(5155),a=i(2115),n=i(867);function l(){let[e,s]=(0,a.useState)("screening"),[i,l]=(0,a.useState)([]),[c,t]=(0,a.useState)(!1),[d,o]=(0,a.useState)(null),[h,u]=(0,a.useState)(null),[x,m]=(0,a.useState)({index_name:"CAC 40 (France)",pe_max:15,pb_max:1.5,de_max:100,roe_min:.12});(0,a.useEffect)(()=>{(0,n.YT)().then(e=>l(e.indices||[])).catch(e=>o("Impossible de charger la liste des indices"))},[]);let j=(e,s)=>{m(i=>({...i,[e]:s}))},v=async()=>{t(!0),o(null);try{let e=await (0,n.wS)(x);u(e.results),s("results")}catch(e){o(e.message)}finally{t(!1)}};return(0,r.jsxs)("div",{className:"design2-container",children:[(0,r.jsx)("header",{className:"design2-header",children:(0,r.jsxs)("div",{className:"header-content",children:[(0,r.jsxs)("div",{className:"logo",children:[(0,r.jsx)("span",{className:"logo-icon",children:"\uD83D\uDC8E"}),(0,r.jsx)("h1",{children:"ValueFinder"})]}),(0,r.jsx)("p",{className:"tagline",children:"Votre assistant intelligent pour l'investissement de valeur"})]})}),(0,r.jsx)("nav",{className:"tabs-navigation",children:(0,r.jsx)("div",{className:"tabs-container",children:[{id:"screening",label:"\uD83C\uDFAF Screening",icon:"\uD83D\uDCCA"},{id:"results",label:"\uD83D\uDCC8 R\xe9sultats",icon:"\uD83D\uDCCB"},{id:"analysis",label:"\uD83D\uDD0D Analyse",icon:"\uD83D\uDCA1"}].map(i=>(0,r.jsxs)("button",{className:"tab-button ".concat(e===i.id?"active":""),onClick:()=>s(i.id),disabled:"results"===i.id&&!h,children:[(0,r.jsx)("span",{className:"tab-icon",children:i.icon}),(0,r.jsx)("span",{className:"tab-label",children:i.label})]},i.id))})}),(0,r.jsxs)("main",{className:"tab-content",children:["screening"===e&&(0,r.jsxs)("div",{className:"screening-tab",children:[(0,r.jsxs)("div",{className:"tab-header",children:[(0,r.jsx)("h2",{children:"Configuration du Screening"}),(0,r.jsx)("p",{children:"D\xe9finissez vos crit\xe8res d'investissement pour identifier les meilleures opportunit\xe9s"})]}),(0,r.jsxs)("div",{className:"screening-form",children:[(0,r.jsxs)("div",{className:"form-grid",children:[(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsx)("h3",{children:"\uD83D\uDCCA S\xe9lection du March\xe9"}),(0,r.jsxs)("div",{className:"input-group",children:[(0,r.jsx)("label",{children:"Indice de r\xe9f\xe9rence"}),(0,r.jsx)("select",{value:x.index_name,onChange:e=>j("index_name",e.target.value),className:"select-input",children:i.map(e=>(0,r.jsx)("option",{value:e,children:e},e))})]})]}),(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsx)("h3",{children:"\uD83D\uDCB0 Crit\xe8res de Valorisation"}),(0,r.jsxs)("div",{className:"slider-group",children:[(0,r.jsxs)("label",{children:["P/E Ratio Maximum: ",(0,r.jsx)("strong",{children:x.pe_max})]}),(0,r.jsx)("input",{type:"range",min:"5",max:"50",value:x.pe_max,onChange:e=>j("pe_max",parseFloat(e.target.value)),className:"slider"})]}),(0,r.jsxs)("div",{className:"slider-group",children:[(0,r.jsxs)("label",{children:["P/B Ratio Maximum: ",(0,r.jsx)("strong",{children:x.pb_max})]}),(0,r.jsx)("input",{type:"range",min:"0.5",max:"5",step:"0.1",value:x.pb_max,onChange:e=>j("pb_max",parseFloat(e.target.value)),className:"slider"})]})]}),(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsx)("h3",{children:"\uD83D\uDCC8 Crit\xe8res de Performance"}),(0,r.jsxs)("div",{className:"slider-group",children:[(0,r.jsxs)("label",{children:["Dette/Equity Maximum: ",(0,r.jsxs)("strong",{children:[x.de_max,"%"]})]}),(0,r.jsx)("input",{type:"range",min:"0",max:"200",value:x.de_max,onChange:e=>j("de_max",parseFloat(e.target.value)),className:"slider"})]}),(0,r.jsxs)("div",{className:"slider-group",children:[(0,r.jsxs)("label",{children:["ROE Minimum: ",(0,r.jsxs)("strong",{children:[(100*x.roe_min).toFixed(0),"%"]})]}),(0,r.jsx)("input",{type:"range",min:"0.05",max:"0.3",step:"0.01",value:x.roe_min,onChange:e=>j("roe_min",parseFloat(e.target.value)),className:"slider"})]})]})]}),(0,r.jsx)("div",{className:"action-section",children:(0,r.jsx)("button",{className:"primary-action-btn",onClick:v,disabled:c,children:c?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"spinner-small"}),"Analyse en cours..."]}):(0,r.jsx)(r.Fragment,{children:"\uD83D\uDE80 Lancer le Screening"})})})]})]}),"results"===e&&(0,r.jsxs)("div",{className:"results-tab",children:[(0,r.jsxs)("div",{className:"tab-header",children:[(0,r.jsx)("h2",{children:"R\xe9sultats du Screening"}),(0,r.jsx)("p",{children:"D\xe9couvrez les actions qui correspondent \xe0 vos crit\xe8res"})]}),d&&(0,r.jsxs)("div",{className:"error-banner",children:[(0,r.jsx)("span",{children:"⚠️"}),(0,r.jsx)("span",{children:d})]}),h&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"metrics-dashboard",children:[(0,r.jsxs)("div",{className:"metric-card",children:[(0,r.jsx)("div",{className:"metric-value",children:h.length}),(0,r.jsx)("div",{className:"metric-label",children:"Actions Analys\xe9es"})]}),(0,r.jsxs)("div",{className:"metric-card highlight",children:[(0,r.jsx)("div",{className:"metric-value",children:h.filter(e=>e.intrinsic_value>e.current_price).length}),(0,r.jsx)("div",{className:"metric-label",children:"Sous-\xe9valu\xe9es"})]}),(0,r.jsxs)("div",{className:"metric-card",children:[(0,r.jsx)("div",{className:"metric-value",children:h.length>0?Math.round(h.reduce((e,s)=>e+s.score,0)/h.length):0}),(0,r.jsx)("div",{className:"metric-label",children:"Score Moyen"})]}),(0,r.jsxs)("div",{className:"metric-card",children:[(0,r.jsx)("div",{className:"metric-value",children:h.filter(e=>e.score>=8).length}),(0,r.jsx)("div",{className:"metric-label",children:"Score ≥ 8"})]})]}),(0,r.jsxs)("div",{className:"results-table-container",children:[(0,r.jsxs)("div",{className:"table-header",children:[(0,r.jsx)("h3",{children:"\uD83D\uDCCB Top Opportunit\xe9s"}),(0,r.jsx)("button",{className:"export-btn",onClick:()=>{if(!h)return;let e=new Blob([["Ticker,Prix Actuel,Valeur Intrins\xe8que,Score,P/E,P/B,ROE,Potentiel",...h.map(e=>{var s,i,r,a,n;return[e.ticker,(null==(s=e.current_price)?void 0:s.toFixed(2))||"N/A",(null==(i=e.intrinsic_value)?void 0:i.toFixed(2))||"N/A",e.score,(null==(r=e.pe_ratio)?void 0:r.toFixed(1))||"N/A",(null==(a=e.pb_ratio)?void 0:a.toFixed(1))||"N/A",(n=100*e.roe,n.toFixed(1)+"%"),e.intrinsic_value&&e.current_price?((e.intrinsic_value-e.current_price)/e.current_price*100).toFixed(1)+"%":"N/A"].join(",")})].join("\n")],{type:"text/csv"}),s=window.URL.createObjectURL(e),i=document.createElement("a");i.href=s,i.download="screening_results_".concat(new Date().toISOString().split("T")[0],".csv"),i.click(),window.URL.revokeObjectURL(s)},children:"\uD83D\uDCE5 Exporter CSV"})]}),(0,r.jsx)("div",{className:"table-wrapper",children:(0,r.jsxs)("table",{className:"results-table",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Rang"}),(0,r.jsx)("th",{children:"Ticker"}),(0,r.jsx)("th",{children:"Prix Actuel"}),(0,r.jsx)("th",{children:"Valeur Intrins\xe8que"}),(0,r.jsx)("th",{children:"Potentiel"}),(0,r.jsx)("th",{children:"Score"}),(0,r.jsx)("th",{children:"P/E"}),(0,r.jsx)("th",{children:"P/B"}),(0,r.jsx)("th",{children:"ROE"})]})}),(0,r.jsx)("tbody",{children:h.sort((e,s)=>s.score-e.score).slice(0,15).map((e,s)=>{var i,a,n,l,c;return(0,r.jsxs)("tr",{className:"table-row",children:[(0,r.jsx)("td",{className:"rank-cell",children:s+1}),(0,r.jsx)("td",{className:"ticker-cell",children:e.ticker}),(0,r.jsxs)("td",{children:[null==(i=e.current_price)?void 0:i.toFixed(2),"€"]}),(0,r.jsxs)("td",{className:e.intrinsic_value>e.current_price?"positive":"negative",children:[null==(a=e.intrinsic_value)?void 0:a.toFixed(2),"€"]}),(0,r.jsx)("td",{className:e.intrinsic_value>e.current_price?"positive":"negative",children:e.intrinsic_value&&e.current_price?"".concat(((e.intrinsic_value-e.current_price)/e.current_price*100).toFixed(1),"%"):"N/A"}),(0,r.jsx)("td",{className:"score-cell",children:e.score}),(0,r.jsx)("td",{children:null==(n=e.pe_ratio)?void 0:n.toFixed(1)}),(0,r.jsx)("td",{children:null==(l=e.pb_ratio)?void 0:l.toFixed(1)}),(0,r.jsxs)("td",{children:[(c=100*e.roe,c.toFixed(1)),"%"]})]},s)})})]})})]})]})]}),"analysis"===e&&(0,r.jsxs)("div",{className:"analysis-tab",children:[(0,r.jsxs)("div",{className:"tab-header",children:[(0,r.jsx)("h2",{children:"Analyse Avanc\xe9e"}),(0,r.jsx)("p",{children:"Approfondissez votre analyse avec des outils avanc\xe9s"})]}),(0,r.jsxs)("div",{className:"analysis-tools",children:[(0,r.jsxs)("div",{className:"tool-card",children:[(0,r.jsx)("h3",{children:"\uD83D\uDD0D Analyse DCF"}),(0,r.jsx)("p",{children:"Calculez la valeur intrins\xe8que avec un mod\xe8le de flux de tr\xe9sorerie actualis\xe9s"}),(0,r.jsx)("button",{className:"tool-btn",onClick:()=>alert("Fonctionnalit\xe9 DCF \xe0 venir!"),children:"Lancer DCF"})]}),(0,r.jsxs)("div",{className:"tool-card",children:[(0,r.jsx)("h3",{children:"\uD83D\uDCCA Comparaison Sectorielle"}),(0,r.jsx)("p",{children:"Comparez les m\xe9triques avec les pairs du secteur"}),(0,r.jsx)("button",{className:"tool-btn",onClick:()=>alert("Comparaison sectorielle \xe0 venir!"),children:"Comparer"})]}),(0,r.jsxs)("div",{className:"tool-card",children:[(0,r.jsx)("h3",{children:"\uD83D\uDCC8 Analyse Technique"}),(0,r.jsx)("p",{children:"\xc9tudiez les tendances et les niveaux de support/r\xe9sistance"}),(0,r.jsx)("button",{className:"tool-btn",onClick:()=>alert("Analyse technique \xe0 venir!"),children:"Analyser"})]})]})]})]})]})}i(1754)}},e=>{e.O(0,[373,441,255,358],()=>e(e.s=2654)),_N_E=e.O()}]);