(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[311],{867:(e,s,a)=>{"use strict";a.d(s,{YT:()=>l,f2:()=>r,hQ:()=>t,tv:()=>c,wS:()=>i});let n="http://127.0.0.1:8000",l=async()=>{let e=await fetch("".concat(n,"/indices"));if(!e.ok)throw Error("Impossible de charger les indices.");return e.json()},i=async e=>{let s=await fetch("".concat(n,"/screening"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok)throw Error((await s.json()).detail||"Une erreur est survenue lors du screening.");return s.json()},r=async e=>{let s=await fetch("".concat(n,"/dcf-valuation/").concat(e));if(!s.ok)throw Error((await s.json()).detail||"L'analyse DCF a \xe9chou\xe9 pour ".concat(e,"."));return s.json()},c=async()=>{let e=await fetch("".concat(n,"/screening/history"));if(!e.ok)throw Error("Impossible de charger l'historique des screenings.");return e.json()},t=async e=>{let s=await fetch("".concat(n,"/screening/history/").concat(e));if(!s.ok)throw Error("Impossible de charger les d\xe9tails du screening.");return s.json()}},7913:()=>{},9611:(e,s,a)=>{Promise.resolve().then(a.bind(a,9846))},9846:(e,s,a)=>{"use strict";a.d(s,{default:()=>c});var n=a(5155),l=a(2115),i=a(867);a(7913);let r={container:{display:"flex",minHeight:"100vh",background:"#ffffff",fontFamily:"Segoe UI, Tahoma, Geneva, Verdana, sans-serif",color:"#666666"},sidebar:{background:"#f5f5f5",borderRight:"1px solid #cccccc",transition:"all 0.3s ease",display:"flex",flexDirection:"column"},collapseBtn:{background:"none",border:"none",fontSize:"18px",cursor:"pointer",padding:"8px",borderRadius:"8px",transition:"all 0.2s ease",color:"#666666"},analyzeBtn:{width:"100%",padding:"16px 24px",background:"#ffd700",color:"#333333",border:"none",borderRadius:"12px",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginTop:"20px"},pageTitle:{fontSize:"28px",fontWeight:"700",color:"#333333",display:"flex",alignItems:"center",gap:"12px",margin:"0"},exportBtn:{background:"#ffd700",color:"#333333",border:"none",padding:"12px 20px",borderRadius:"8px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.2s ease"},scoreBadge:{background:"#ffd700",color:"#333333",padding:"4px 12px",borderRadius:"20px",fontWeight:"600",fontSize:"12px"}};function c(){let[e,s]=(0,l.useState)(!1),[a,c]=(0,l.useState)([]),[t,d]=(0,l.useState)(!1),[o,h]=(0,l.useState)(null),[x,m]=(0,l.useState)(null),[u,p]=(0,l.useState)(!1),[j,v]=(0,l.useState)(!1),[g,N]=(0,l.useState)({index_name:"CAC 40 (France)",pe_max:15,pb_max:1.5,de_max:100,roe_min:.12});(0,l.useEffect)(()=>{(0,i.YT)().then(e=>c(e.indices||[])).catch(e=>h("Unable to load indices list"))},[]);let b=(e,s)=>{N(a=>({...a,[e]:s}))},y=async()=>{d(!0),h(null);try{let e=await (0,i.wS)(g);m(e.results),p(!0),v(!1)}catch(e){h(e.message)}finally{d(!1)}},f=e=>{"screening"===e?(p(!1),v(!1)):"results"===e?(p(!0),v(!1)):"analysis"===e&&(p(!1),v(!0))};return(0,n.jsxs)("div",{className:"design1-container",style:r.container,children:[(0,n.jsxs)("aside",{className:"sidebar ".concat(e?"collapsed":""),style:{...r.sidebar,width:e?"80px":"280px"},children:[(0,n.jsx)("div",{className:"sidebar-header",children:(0,n.jsx)("button",{className:"collapse-btn",style:r.collapseBtn,onClick:()=>{s(!e)},children:e?"→":"←"})}),(0,n.jsxs)("nav",{className:"sidebar-nav",children:[(0,n.jsx)("button",{className:"nav-item ".concat(u||j?"":"active"),onClick:()=>f("screening"),children:!e&&(0,n.jsx)("span",{className:"nav-label",children:"Screening"})}),(0,n.jsx)("button",{className:"nav-item ".concat(u?"active":""," ").concat(x?"":"disabled"),onClick:()=>f("results"),disabled:!x,children:!e&&(0,n.jsx)("span",{className:"nav-label",children:"Results"})}),(0,n.jsx)("button",{className:"nav-item ".concat(j?"active":""),onClick:()=>f("analysis"),children:!e&&(0,n.jsx)("span",{className:"nav-label",children:"Analysis"})})]}),!e&&!u&&!j&&(0,n.jsxs)("div",{className:"sidebar-controls",children:[(0,n.jsxs)("div",{className:"control-group",children:[(0,n.jsx)("label",{className:"control-label",children:"Market"}),(0,n.jsx)("select",{value:g.index_name,onChange:e=>b("index_name",e.target.value),className:"control-select",children:a.map(e=>(0,n.jsx)("option",{value:e,children:e},e))})]}),(0,n.jsxs)("div",{className:"control-group",children:[(0,n.jsxs)("label",{className:"control-label",children:["P/E Max: ",(0,n.jsx)("strong",{children:g.pe_max})]}),(0,n.jsx)("input",{type:"range",min:"5",max:"50",value:g.pe_max,onChange:e=>b("pe_max",parseFloat(e.target.value)),className:"control-slider"})]}),(0,n.jsxs)("div",{className:"control-group",children:[(0,n.jsxs)("label",{className:"control-label",children:["P/B Max: ",(0,n.jsx)("strong",{children:g.pb_max})]}),(0,n.jsx)("input",{type:"range",min:"0.5",max:"5",step:"0.1",value:g.pb_max,onChange:e=>b("pb_max",parseFloat(e.target.value)),className:"control-slider"})]}),(0,n.jsxs)("div",{className:"control-group",children:[(0,n.jsxs)("label",{className:"control-label",children:["Debt/Equity Max: ",(0,n.jsxs)("strong",{children:[g.de_max,"%"]})]}),(0,n.jsx)("input",{type:"range",min:"0",max:"200",value:g.de_max,onChange:e=>b("de_max",parseFloat(e.target.value)),className:"control-slider"})]}),(0,n.jsxs)("div",{className:"control-group",children:[(0,n.jsxs)("label",{className:"control-label",children:["ROE Min: ",(0,n.jsxs)("strong",{children:[(100*g.roe_min).toFixed(0),"%"]})]}),(0,n.jsx)("input",{type:"range",min:"0.05",max:"0.3",step:"0.01",value:g.roe_min,onChange:e=>b("roe_min",parseFloat(e.target.value)),className:"control-slider"})]}),(0,n.jsx)("button",{className:"analyze-btn",style:r.analyzeBtn,onClick:y,disabled:t,children:t?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"spinner"}),"Analyzing..."]}):(0,n.jsx)(n.Fragment,{children:"Run Analysis"})})]})]}),(0,n.jsxs)("main",{className:"main-content",children:[(0,n.jsxs)("header",{className:"content-header",children:[(0,n.jsx)("h1",{className:"page-title",style:r.pageTitle,children:u?(0,n.jsx)(n.Fragment,{children:"Screening Results"}):j?(0,n.jsx)(n.Fragment,{children:"Detailed Analysis"}):(0,n.jsx)(n.Fragment,{children:"Screening Configuration"})}),(0,n.jsx)("p",{className:"page-subtitle",children:u?"Discover the best investment opportunities":j?"In-depth analysis tools for your investments":"Define your criteria to identify value stocks"})]}),o&&(0,n.jsx)("div",{className:"alert alert-error",children:(0,n.jsx)("span",{children:o})}),!u&&!j&&(0,n.jsx)("div",{className:"hero-section",children:(0,n.jsxs)("div",{className:"hero-content",children:[(0,n.jsx)("h2",{children:"Find Hidden Market Gems"}),(0,n.jsx)("p",{children:"Use our advanced screening algorithm to identify undervalued stocks with exceptional growth potential."}),e&&(0,n.jsxs)("div",{className:"quick-controls",children:[(0,n.jsxs)("div",{className:"quick-control-row",children:[(0,n.jsxs)("div",{className:"quick-control",children:[(0,n.jsx)("label",{children:"Market"}),(0,n.jsx)("select",{value:g.index_name,onChange:e=>b("index_name",e.target.value),children:a.map(e=>(0,n.jsx)("option",{value:e,children:e},e))})]}),(0,n.jsxs)("div",{className:"quick-control",children:[(0,n.jsxs)("label",{children:["P/E Max: ",g.pe_max]}),(0,n.jsx)("input",{type:"range",min:"5",max:"50",value:g.pe_max,onChange:e=>b("pe_max",parseFloat(e.target.value))})]})]}),(0,n.jsxs)("div",{className:"quick-control-row",children:[(0,n.jsxs)("div",{className:"quick-control",children:[(0,n.jsxs)("label",{children:["P/B Max: ",g.pb_max]}),(0,n.jsx)("input",{type:"range",min:"0.5",max:"5",step:"0.1",value:g.pb_max,onChange:e=>b("pb_max",parseFloat(e.target.value))})]}),(0,n.jsxs)("div",{className:"quick-control",children:[(0,n.jsxs)("label",{children:["ROE Min: ",(100*g.roe_min).toFixed(0),"%"]}),(0,n.jsx)("input",{type:"range",min:"0.05",max:"0.3",step:"0.01",value:g.roe_min,onChange:e=>b("roe_min",parseFloat(e.target.value))})]})]}),(0,n.jsx)("button",{className:"hero-cta-btn",onClick:y,disabled:t,children:t?"Analysis in progress...":"Launch Screening"})]})]})}),u&&x&&(0,n.jsxs)("div",{className:"results-section",children:[(0,n.jsx)("div",{className:"results-summary",children:(0,n.jsxs)("div",{className:"summary-cards",children:[(0,n.jsx)("div",{className:"summary-card",children:(0,n.jsxs)("div",{className:"card-content",children:[(0,n.jsx)("div",{className:"card-value",children:x.length}),(0,n.jsx)("div",{className:"card-label",children:"Stocks Analyzed"})]})}),(0,n.jsx)("div",{className:"summary-card highlight",children:(0,n.jsxs)("div",{className:"card-content",children:[(0,n.jsx)("div",{className:"card-value",children:x.filter(e=>e.intrinsic_value>e.current_price).length}),(0,n.jsx)("div",{className:"card-label",children:"Undervalued"})]})}),(0,n.jsx)("div",{className:"summary-card",children:(0,n.jsxs)("div",{className:"card-content",children:[(0,n.jsx)("div",{className:"card-value",children:x.length>0?Math.round(x.reduce((e,s)=>e+s.score,0)/x.length):0}),(0,n.jsx)("div",{className:"card-label",children:"Average Score"})]})}),(0,n.jsx)("div",{className:"summary-card",children:(0,n.jsxs)("div",{className:"card-content",children:[(0,n.jsx)("div",{className:"card-value",children:x.filter(e=>e.score>=8).length}),(0,n.jsx)("div",{className:"card-label",children:"Score ≥ 8"})]})})]})}),(0,n.jsxs)("div",{className:"results-table-section",children:[(0,n.jsxs)("div",{className:"table-header",children:[(0,n.jsx)("h3",{children:"Top Opportunities"}),(0,n.jsx)("button",{className:"export-btn",style:r.exportBtn,onClick:()=>{if(!x)return;let e=new Blob([["Ticker,Current Price,Intrinsic Value,Score,P/E,P/B,ROE,Potential",...x.map(e=>{var s,a,n,l,i;return[e.ticker,(null==(s=e.current_price)?void 0:s.toFixed(2))||"N/A",(null==(a=e.intrinsic_value)?void 0:a.toFixed(2))||"N/A",e.score,(null==(n=e.pe_ratio)?void 0:n.toFixed(1))||"N/A",(null==(l=e.pb_ratio)?void 0:l.toFixed(1))||"N/A",(i=100*e.roe,i.toFixed(1)+"%"),e.intrinsic_value&&e.current_price?((e.intrinsic_value-e.current_price)/e.current_price*100).toFixed(1)+"%":"N/A"].join(",")})].join("\n")],{type:"text/csv"}),s=window.URL.createObjectURL(e),a=document.createElement("a");a.href=s,a.download="screening_results_".concat(new Date().toISOString().split("T")[0],".csv"),a.click(),window.URL.revokeObjectURL(s)},children:"Export CSV"})]}),(0,n.jsx)("div",{className:"table-container",children:(0,n.jsxs)("table",{className:"results-table",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Rank"}),(0,n.jsx)("th",{children:"Ticker"}),(0,n.jsx)("th",{children:"Current Price"}),(0,n.jsx)("th",{children:"Intrinsic Value"}),(0,n.jsx)("th",{children:"Potential"}),(0,n.jsx)("th",{children:"Score"}),(0,n.jsx)("th",{children:"P/E"}),(0,n.jsx)("th",{children:"P/B"}),(0,n.jsx)("th",{children:"ROE"})]})}),(0,n.jsx)("tbody",{children:x.sort((e,s)=>s.score-e.score).slice(0,20).map((e,s)=>{var a,l,i,c,t;return(0,n.jsxs)("tr",{className:"table-row",children:[(0,n.jsx)("td",{className:"rank-cell",children:(0,n.jsx)("span",{className:"rank-badge",children:s+1})}),(0,n.jsx)("td",{className:"ticker-cell",children:(0,n.jsx)("strong",{children:e.ticker})}),(0,n.jsxs)("td",{className:"price-cell",children:["$",null==(a=e.current_price)?void 0:a.toFixed(2)]}),(0,n.jsxs)("td",{className:"intrinsic-cell ".concat(e.intrinsic_value>e.current_price?"positive":"negative"),children:["$",null==(l=e.intrinsic_value)?void 0:l.toFixed(2)]}),(0,n.jsx)("td",{className:"potential-cell ".concat(e.intrinsic_value>e.current_price?"positive":"negative"),children:e.intrinsic_value&&e.current_price?"".concat(((e.intrinsic_value-e.current_price)/e.current_price*100).toFixed(1),"%"):"N/A"}),(0,n.jsx)("td",{className:"score-cell",children:(0,n.jsx)("span",{className:"score-badge",style:r.scoreBadge,children:e.score})}),(0,n.jsx)("td",{children:null==(i=e.pe_ratio)?void 0:i.toFixed(1)}),(0,n.jsx)("td",{children:null==(c=e.pb_ratio)?void 0:c.toFixed(1)}),(0,n.jsxs)("td",{className:"roe-cell",children:[(t=100*e.roe,t.toFixed(1)),"%"]})]},s)})})]})})]})]}),j&&(0,n.jsx)("div",{className:"analysis-section",children:(0,n.jsxs)("div",{className:"analysis-grid",children:[(0,n.jsxs)("div",{className:"analysis-card",children:[(0,n.jsx)("div",{className:"card-header",children:(0,n.jsx)("h3",{children:"DCF Analysis"})}),(0,n.jsx)("p",{children:"Calculate intrinsic value with a custom discounted cash flow model."}),(0,n.jsx)("button",{className:"analysis-btn",onClick:()=>alert("DCF functionality coming soon!"),children:"Launch DCF"})]}),(0,n.jsxs)("div",{className:"analysis-card",children:[(0,n.jsx)("div",{className:"card-header",children:(0,n.jsx)("h3",{children:"Sector Comparison"})}),(0,n.jsx)("p",{children:"Compare financial metrics with peers from the same industry sector."}),(0,n.jsx)("button",{className:"analysis-btn",onClick:()=>alert("Sector comparison coming soon!"),children:"Compare"})]}),(0,n.jsxs)("div",{className:"analysis-card",children:[(0,n.jsx)("div",{className:"card-header",children:(0,n.jsx)("h3",{children:"Technical Analysis"})}),(0,n.jsx)("p",{children:"Study trends, support, resistance and technical indicators."}),(0,n.jsx)("button",{className:"analysis-btn",onClick:()=>alert("Technical analysis coming soon!"),children:"Analyze"})]}),(0,n.jsxs)("div",{className:"analysis-card",children:[(0,n.jsx)("div",{className:"card-header",children:(0,n.jsx)("h3",{children:"Detailed Report"})}),(0,n.jsx)("p",{children:"Generate a comprehensive report with all metrics and analyses."}),(0,n.jsx)("button",{className:"analysis-btn",onClick:()=>alert("Detailed report coming soon!"),children:"Generate"})]})]})})]})]})}}},e=>{e.O(0,[486,441,255,358],()=>e(e.s=9611)),_N_E=e.O()}]);